{% extends "base.html" %}

{% block body %}

<h1>
    All Albums
</h1>
<table>
    <tr>
        {% url albumizer.views.all_albums as all_albums_url %}
        <th><a href={{ all_albums_url }}>Artist</a></th>

        {% with all_albums_url|add:"?sort=title" as all_by_title_url %}
        <th><a href={{ all_by_title_url }}>Title</a></th>
        {% endwith %}

        {% with all_albums_url|add:"?sort=rating" as all_by_rating_url %}
        <th><a href={{ all_by_rating_url }}>Rating</a></th>
        {% endwith %}
    </tr>
    {% for album in albums %}
        <tr>
            <td>{{ album.artist }}</td>
            <td><a href={% url albumizer.views.view_album album.id %}>{{ album.title }}</a></td>
            <td>{{ album.rating }}</td>
        </tr>
    {% endfor %}
</table>
{% endblock %}

